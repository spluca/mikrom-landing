---
/**
 * CTA - Call-to-action section with colored background
 *
 * @description
 * A prominent call-to-action section with a primary-colored background.
 * Ideal for encouraging user engagement at the end of pages.
 *
 * @example
 * ```astro
 * <CTA
 *   title="Ready to get started?"
 *   description="Join thousands of developers shipping faster."
 *   action={{ label: "Start Free Trial", href: "/signup" }}
 * />
 * ```
 *
 * @example With background
 * ```astro
 * <CTA
 *   title="Ready to get started?"
 *   description="Join thousands of developers."
 *   action={{ label: "Start Free Trial", href: "/signup" }}
 *   background="muted"
 * />
 * ```
 */

interface Props {
  /** Headline text for the CTA section */
  title: string;
  /** Supporting description text */
  description: string;
  /** Primary action button with label and link */
  action: { label: string; href: string };
  /** Optional secondary action button */
  secondaryAction?: { label: string; href: string };
  /** Section background style */
  background?: 'default' | 'muted' | 'accent';
}

const { title, description, action, secondaryAction, background = 'default' } = Astro.props;

const bgClass = {
  default: 'bg-background',
  muted: 'bg-surface',
  accent: 'bg-primary/5',
}[background];
---

<section class:list={['py-section', bgClass]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="bg-primary rounded-lg px-8 py-16 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold text-white">
        {title}
      </h2>
      <p class="mt-4 text-lg text-white/80 max-w-2xl mx-auto">
        {description}
      </p>
      <div class="mt-8 flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href={action.href}
          class="inline-flex items-center justify-center px-6 py-3 rounded-md bg-white text-primary font-medium hover:bg-white/90 transition-colors"
        >
          {action.label}
        </a>
        {
          secondaryAction && (
            <a
              href={secondaryAction.href}
              class="inline-flex items-center justify-center px-6 py-3 rounded-md border border-white/30 text-white font-medium hover:bg-white/10 transition-colors"
            >
              {secondaryAction.label}
            </a>
          )
        }
      </div>
    </div>
  </div>
</section>
