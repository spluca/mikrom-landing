---
/**
 * ContentSection - Simple content section with title and text
 *
 * @description
 * A flexible content section for displaying title with paragraphs of text.
 * Useful for about pages, mission statements, investor sections, etc.
 *
 * @example Basic usage
 * ```astro
 * <ContentSection
 *   title="Our Mission"
 *   content={[
 *     "We believe in making technology accessible to everyone.",
 *     "Our platform serves millions of developers worldwide."
 *   ]}
 * />
 * ```
 *
 * @example With slot for custom content
 * ```astro
 * <ContentSection title="About Us">
 *   <p>Custom HTML content here...</p>
 * </ContentSection>
 * ```
 */

interface Props {
  /** Section title */
  title: string;
  /** Optional subtitle */
  subtitle?: string;
  /** Array of paragraphs (alternative to slot) */
  content?: string[];
  /** Text alignment */
  align?: 'left' | 'center';
  /** Maximum width for content */
  maxWidth?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
  /** Section background style */
  background?: 'default' | 'muted' | 'accent';
}

const {
  title,
  subtitle,
  content = [],
  align = 'left',
  maxWidth = 'lg',
  background = 'default',
} = Astro.props;

const bgClass = {
  default: 'bg-background',
  muted: 'bg-surface',
  accent: 'bg-primary/5',
}[background];

const maxWidthClass = {
  sm: 'max-w-xl',
  md: 'max-w-2xl',
  lg: 'max-w-3xl',
  xl: 'max-w-4xl',
  full: 'max-w-none',
}[maxWidth];

const alignClass = align === 'center' ? 'text-center mx-auto' : '';
---

<section class:list={['py-section', bgClass]}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class:list={[maxWidthClass, alignClass]}>
      <h2 class="text-2xl sm:text-3xl font-bold text-text">{title}</h2>
      {subtitle && <p class="mt-2 text-lg text-text-muted">{subtitle}</p>}

      {
        content.length > 0 ? (
          <div class="mt-4 space-y-4">
            {content.map((paragraph) => (
              <p class="text-text-muted leading-relaxed">{paragraph}</p>
            ))}
          </div>
        ) : (
          <div class="mt-4 text-text-muted leading-relaxed">
            <slot />
          </div>
        )
      }
    </div>
  </div>
</section>
